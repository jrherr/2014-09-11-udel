<!DOCTYPE html>
<html>
  <head>
    
      <title>SQL Reference</title>
    
    <link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico" />
<link href="../../css/bootstrap/bootstrap.css" rel="stylesheet" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="../../css/bootstrap/bootstrap-responsive.css" rel="stylesheet" />
<link rel="stylesheet" type="text/css" href="../../css/swc.css" />
<link rel="stylesheet" type="text/css" href="../../css/swc-bootstrap.css" />
<link rel="alternate" type="application/rss+xml" title="The Software Carpentry Blog" href="/feed.xml"/>
<meta charset="UTF-8" />
<meta http-equiv="last-modified" content="" />
<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

    <link rel="stylesheet" type="text/css" href="../../css/lesson.css" />
  </head>
  <body>
    <div class="container">
      <div class="banner">
  <a href="http://software-carpentry.org" title="Software Carpentry">
    <img alt="Software Carpentry banner" src="../../img/software-carpentry-banner.png" />
  </a>
</div>


      <div class="row-fluid">
        <div class="span10 offset1">
	  <!-- start content -->
          
          <h1>SQL Reference</h1>
          
          <h4 id="basic-queries">Basic Queries</h4>

<p>Select one or more columns from a table:</p>

<pre><code>SELECT column_name_1, column_name_2 FROM table_name;
</code></pre>

<p>Select all columns from a table:</p>

<pre><code>SELECT * FROM table_name;
</code></pre>

<p>Get only unique results in a query:</p>

<pre><code>SELECT DISTINCT column_name FROM table_name;
</code></pre>

<p>Perform calculations in a query:</p>

<pre><code>SELECT column_name_1, ROUND(column_name_2 / 1000.0) FROM table_name;
</code></pre>

<p>Sort results in ascending order:</p>

<pre><code>SELECT * FROM table_name ORDER BY column_name_1;
</code></pre>

<p>Sort results in ascending and descending order:</p>

<pre><code>SELECT * FROM table_name ORDER BY column_name_1 ASC, column_name_2 DESC;
</code></pre>

<h4 id="filtering">Filtering</h4>

<p>Select only data meeting a condition:</p>

<pre><code>SELECT * FROM table_name WHERE column_name &gt; 0;
</code></pre>

<p>Select only data meeting a combination of conditions:</p>

<pre><code>SELECT * FROM table_name WHERE (column_name_1 &gt;= 1000) AND (column_name_2 = 'A' OR column_name_2 = 'B');
</code></pre>

<h4 id="missing-data">Missing Data</h4>

<p>Use <code>NULL</code> to represent missing data.</p>

<p><code>NULL</code> is not 0, false, or any other specific value.
Operations involving <code>NULL</code> produce <code>NULL</code>, so <code>1+NULL</code>, <code>2&gt;NULL</code>, and <code>3=NULL</code> are all <code>NULL</code>.</p>

<p>Test whether a value is null:</p>

<pre><code>SELECT * FROM table_name WHERE column_name IS NULL;
</code></pre>

<p>Test whether a value is not null:</p>

<pre><code>SELECT * FROM table_name WHERE column_name IS NOT NULL;
</code></pre>

<h4 id="grouping-and-aggregation">Grouping and Aggregation</h4>

<p>Combine values using aggregation functions:</p>

<pre><code>SELECT SUM(column_name_1) FROM table_name;
</code></pre>

<p>Combine data into groups and calculate combined values in groups:</p>

<pre><code>SELECT column_name_1, SUM(column_name_2), COUNT(*) FROM table_name GROUP BY column_name_1;
</code></pre>

<h4 id="joins">Joins</h4>

<p>Join data from two tables:</p>

<pre><code>SELECT * FROM table_name_1 JOIN table_name_2 ON table_name_1.column_name = table_name_2.column_name;
</code></pre>

<h4 id="writing-queries">Writing Queries</h4>

<p>SQL commands must be combined in the following order:
<code>SELECT</code>, <code>FROM</code>, <code>JOIN</code>, <code>ON</code>, <code>WHERE</code>, <code>GROUP BY</code>, <code>ORDER BY</code>.</p>

<h4 id="creating-tables">Creating Tables</h4>

<p>Create tables by specifying column names and types.
Include primary and foreign key relationships and other constraints.</p>

<pre><code>CREATE TABLE survey(
    taken   INTEGER NOT NULL,
    person  TEXT,
    quant   REAL NOT NULL,
    PRIMARY KEY(taken, quant),
    FOREIGN KEY(person) REFERENCES person(ident)
);
</code></pre>

<h4 id="programming">Programming</h4>

<p>Execute queries in a general-purpose programming language by:</p>

<ul>
  <li>loading the appropriate library</li>
  <li>creating a connection</li>
  <li>creating a cursor</li>
  <li>repeatedly:
    <ul>
      <li>execute a query</li>
      <li>fetch some or all results</li>
    </ul>
  </li>
  <li>disposing of the cursor</li>
  <li>closing the connection</li>
</ul>

<p>Python example:</p>

<pre><code>import sqlite3
connection = sqlite3.connect("database_name")
cursor = connection.cursor()
cursor.execute("...query...")
for r in cursor.fetchall():
    ...process result r...
cursor.close()
connection.close()
</code></pre>

	  <!-- end content -->
	</div>
      </div>

      <div class="footer">
  <a class="label swc-blue-bg" href="admin@software-carpentry.org">Email</a>
  <a class="label swc-blue-bg" href="https://twitter.com/swcarpentry">Twitter</a>
  <a class="label swc-blue-bg" href="http://software-carpentry.org/feed.xml">RSS</a>
  <a class="label swc-blue-bg" href="https://github.com/swcarpentry">GitHub</a>
  <a class="label swc-blue-bg" href="irc://moznet/sciencelab">IRC</a>
  <a class="label swc-blue-bg" href="../../LICENSE.html">License</a>
  <a class="bugreport label swc-blue-bg" href="mailto:admin@software-carpentry.org?subject=bug%20in%20novice/ref/04-sql.md">Bug Report</a>
</div>

    </div>
    <!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="../../js/jquery-1.9.1.min.js"></script>
<script src="../../js/bootstrap/bootstrap.min.js"></script>

  </body>
</html>
